binwidth = 1, position = "fill") +   scale_fill_grey()
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()
data$count <- 1 
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip()
qplot(data = data[data$pay1 > 0,], reverse(factor(year)), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip()
?reverse
?rev(c(1,2,3))
qplot(data = data[data$pay1 > 0,], rev(factor(year)), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip()
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_x_continous("Proportion Of Race")
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion Of Race")
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion Of Race") + scale_x_discrete("Year")
?scale_area
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year") +
scale_fill_continuous(guide = guide_legend(title = "Payer")) + opts(legend.text = c('a','b','c','d',e',f'))
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year") +
scale_fill_continuous(guide = guide_legend(title = "Payer"))
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year")
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year") + opts(legend.text = c('a','b','c','d',e',f'))
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year") + opts(legend.text = c('a','b','c','d',e','f'))
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year") + opts(legend.text = c('a','b','c','d','e','f'))
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year")
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year") + opts(legend.text = c('a','b','c','d','e'))
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year") + opts(legend.text = c("TEST"))
scale_fill_continuous(guide = guide_legend(title = "Payer")) 
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year") + theme(legend.text = c("TEST"))
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year")
ggsave("Payer Over Time.png")
qplot(data = data[data$race > 0,], factor(year), fill = factor(race), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year")
qplot(data = data[data$race > 0,], factor(year), fill = factor(race), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year")
ggsave("Race Over Time.png")
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year") + theme(title = "Payer Over Time")
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year") + theme(plot.title = "Payer Over Time")
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + coord_flip() + 
scale_y_continuous("Proportion") + scale_x_discrete("Year") + opts(plot.title = "Payer Over Time")
ggplot(data = data, age, geom = "boxplot")
str(data)
ggplot(data = data, x = age, geom = "boxplot")
ggplot(data = data, y = age, geom = "boxplot")
qplot(data = data, y = age, geom = "boxplot")
qplot(data = data, x = age, geom = "boxplot")
qplot(data = data, age, geom = "boxplot")
qplot(data = data, age, year, geom = "boxplot")
qplot(data = data, year, age, geom = "boxplot")
qplot(data = data, factor(year), age, geom = "boxplot")
qplot(data = data, factor(year), age, geom = "boxplot") + ylim(0, 100)
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + 
scale_y_continuous("Proportion") + scale_x_discrete("Year")
update(ggplot2)
update()
?update
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + 
scale_y_continuous("Proportion") + scale_x_discrete("Year") +  + opts(axis.text.x=theme_text(angle=-90))
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + 
scale_y_continuous("Proportion") + scale_x_discrete("Year")  + opts(axis.text.x=theme_text(angle=-90))
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + 
scale_y_continuous("Proportion") + scale_x_discrete("Year")  + opts(axis.text.x=theme_text(angle=90))
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + 
scale_y_continuous("Proportion") + scale_x_discrete("Year")  + opts(axis.text.x=theme_text(angle=90),
plot.title = "Payer Over Time")
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + 
scale_y_continuous("Proportion") + scale_x_discrete("Year")  + opts(axis.text.x=theme_text(angle=90),
plot.title = element("Payer Over Time"))
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + 
scale_y_continuous("Proportion") + scale_x_discrete("Year")  + opts(axis.text.x=theme_text(angle=90))
ggsave("Payer Over Time.png")
qplot(data = data[data$pay1 > 0,], factor(year), fill = factor(pay1), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw()  + 
scale_y_continuous("Proportion") + scale_x_discrete("Year")  + opts(axis.text.x=theme_text(angle=-90))
ggsave("Payer Over Time.png")
qplot(data = data[data$race > 0,], factor(year), fill = factor(race), geom = "bar", 
binwidth = 1, position = "fill") +   scale_fill_grey() + theme_bw() +
scale_y_continuous("Proportion") + scale_x_discrete("Year")  + opts(axis.text.x=theme_text(angle=-90))
ggsave("Race Over Time.png")
qplot(data = data, factor(year), age, geom = "boxplot") + ylim(0, 100)
qplot(data = data, factor(year), age, geom = "boxplot") + ylim(0, 100)  + opts(axis.text.x=theme_text(angle=-90))
qplot(data = data, factor(year), age, geom = "boxplot") + ylim(0, 100)  + 
opts(axis.text.x=theme_text(angle=-90)) + geom_smooth(method = "lm")
qplot(data = data, factor(year), age, geom = "boxplot") + ylim(0, 100)  + 
opts(axis.text.x=theme_text(angle=-90)) + geom_smooth()
qplot(data = data, factor(year), age, geom = "boxplot") + ylim(0, 100)  + 
opts(axis.text.x=theme_text(angle=-90))
ggsave("Age Over Time.png")
qplot(data = data, factor(year), age, geom = "boxplot") + ylim(0, 100)  + 
opts(axis.text.x=theme_text(angle=-90)) + theme_bw()
ggsave("Age Over Time.png")
qplot(data = data, factor(year), age, geom = "boxplot") + ylim(0, 100) + theme_bw() + 
opts(axis.text.x=theme_text(angle=-90)) 
ggsave("Age Over Time.png")
str(data)
ddply(data, c("volume", "complications"), summarise, count = sum(count))
chisq.test(data <- read.csv("surgicalCasesWComplications.csv", stringsAsFactors = FALSE)
ddply(data, c("volume", "complications"), summarise, count = sum(count))
data <- read.csv("surgicalCasesWComplications.csv", stringsAsFactors = FALSE)
ddply(data, c("volume", "complications"), summarise, count = sum(count))
ddply(data, c("volume" == high, "complications"), summarise, count = sum(count))
data <- read.csv("surgicalCasesWComplications.csv", stringsAsFactors = FALSE)
data$high <- data$volume == high
data$high <- data$volume == "high"
ddply(data, c("high", "complications"), summarise, count = sum(count))
chisq.test(as.table(rbind(c(2338,415), c(910,  187)))
)
data <- read.csv("subsetNeckDissection.csv", stringsAsFactors = FALSE)
str(data)
data <- read.csv("subsetNeckDissection.csv", stringsAsFactors = FALSE)
str(data)
data$high <- data$volume == "high"
ddply(data, c("high", "complications"), summarise, count = sum(count
))
chisq.test(as.table(rbind(c(138,27), c(64,  15))))
data <- read.csv("subsetNeurosurgery.csv", stringsAsFactors = FALSE)
str(data)
data$high <- data$volume == "high"
ddply(data, c("high", "complications"), summarise, count = sum(count))
chisq.test(as.table(rbind(c(138,27), c(64,  15))))
ddply(data, c("high", "complications"), summarise, count = sum(count))
chisq.test(as.table(rbind(c(131,38), c(97,  31))))
data <- read.csv("subsetOrbitMax.csv", stringsAsFactors = FALSE)
str(data)
data$high <- data$volume == "high"
ddply(data, c("high", "complications"), summarise, count = sum(count))
ddply(data, c("high", "complications"), summarise, count = sum(count))
chisq.test(as.table(rbind(c(100,30), c(75,  31))))
chisq.test(as.table(rbind(c(2338,415), c(910,  187))))
chisq.test(as.table(rbind(c(138,27), c(64,  15))))
#Deaths
chisq.test(as.table(rbind(c(1057,4), c(2763,  26))))
chisq.test(as.table(rbind(c(1061 - 424,424), c(2789 - 998,  998 ))))
chisq.test(as.table(rbind(c(1061 - 42,42), c(2789 - 146,  146))))
#Cardiopulmonary
chisq.test(as.table(rbind(c(1061 - 223,223), c(2789 - 496,  496))))
chisq.test(as.table(rbind(c(1061 - 13,13), c(2789 - 38,  38))))
chisq.test(as.table(rbind(c(1061 - 20,20), c(2789 - 56,  56))))
chisq.test(as.table(rbind(c(1061 - 12,12), c(2789 - 34,  34))))
chisq.test(as.table(rbind(c(1061 - 110,110), c(2789 - 202,  202))))
data <- read.csv("surgicalCasesWComplicationsIsDifficult3.csv", stringsAsFactors = FALSE)
str(data)
data <- read.csv("surgicalCasesWComplicationsIsDifficult3.csv", stringsAsFactors = FALSE)
str(data)
data$high <- data$volume == "high"
ddply(data, c("high", "isDifficult"), summarise, count = sum(complications))
chisq.test(as.table(rbind(c(1061 - 89,89), c(2789 - 121,  121))))
str(data[high = TRUE,])
str(data[high = 'TRUE',])
str(data[data$high = 'TRUE',])
str(data[data$high = TRUE,])
data[data$high = TRUE,])
data[data$high == TRUE,])
str(data[data$high == TRUE,])
str(data[data$isComplicated == TRUE,])
str(data[data$isDifficult == TRUE,])
str(data[data$isDifficult == TRUE & data$high == TRUE,])
str(data[data$isDifficult == TRUE & data$high != TRUE,])
89/277
121/438
 str(data[data$isDifficult == TRUE & data$died ==1 & data$high == TRUE,])
 str(data[data$isDifficult == TRUE & data$died ==1 & data$high == TRUE,])
 str(data[data$isDifficult == TRUE & data$died ==1 & data$high != TRUE,])
chisq.test(as.table(rbind(c(277 - 2,2), c(438 - 6,  6))))
summary(data[data$isDifficult == TRUE,])
summary(data[data$isDifficult != TRUE,])
mean(data[data$isDifficult == TRUE,]$los)
mean(data[data$isDifficult == TRUE & data$los > 0,]$los)
sd((data[data$isDifficult == TRUE & data$los > 0,]$los))
mean(data[data$isDifficult != TRUE & data$los > 0,]$los)
sd((data[data$isDifficult != TRUE & data$los > 0,]$los))
str((data[data$isDifficult != TRUE & data$los > 0,]$los))
z.test(data[data$isDifficult == TRUE & data$los > 0,]$los), mu = 6.184, sd = 7.6449)
z.test(data[data$isDifficult == TRUE & data$los > 0,]$los, mu = 6.184, sd = 7.6449)
t.test(data[data$isDifficult == TRUE & data$los > 0,]$los, mu = 6.184, sd = 7.6449)
t.test(data[data$isDifficult == TRUE & data$los > 0,]$los, data[data$isDifficult != TRUE & data$los > 0,]$los)
t.test(data[data$isDifficult == TRUE]$IsComplicated, data[data$isDifficult != TRUE,]$IsComplicated)
str(data)
t.test(data[data$isDifficult == TRUE]$complications, data[data$isDifficult != TRUE,]$complications)
t.test(data[data$isDifficult == TRUE,]$complications, data[data$isDifficult != TRUE,]$complications)
setwd("C:\\Users\\David Ouyang\\Dropbox\\StatisticalAnalysis\\Sinonasal\\Final Data Set")
library(ggplot2)
data <- read.csv("ComplicationsOverTime.csv", stringsAsFactors = FALSE)
str(data)
data$count <- 1
qplot(data = PropData[PropData$compType == "death",], year, count,
 geom = c("point", "line") ) +ylim(0, 8)
ggsave("DeathOverTime.png", , width = 6.4, height = 5.2)
PropData <- ddply(data, c("year", "compType"), summarise, count = sum(count))
qplot(data = PropData[PropData$compType == "death",], year, count,
 geom = c("point", "line") ) +ylim(0, 8)
qplot(data = PropData[PropData$compType == "death",], year, count,
 geom = c("point", "line") ) +ylim(0, 8) + geom_smooth(method = "lm")
ggsave("DeathOverTime.png", , width = 6.4, height = 5.2)
qplot(data = PropData[PropData$compType == "death",], year, count,
 geom = c("bar", "line") ) +ylim(0, 8) + geom_smooth(method = "lm")
qplot(data = PropData[PropData$compType == "death",], year, count, 
fill = compType, geom = "bar", stat = "identity", position = "fill")
qplot(data = PropData[PropData$compType == "death",], year, count, 
fill = compType, geom = "bar", stat = "identity", position = "stack", binwidth = 1)
qplot(data = PropData[PropData$compType == "death",], year, count, 
fill = compType, geom = "bar", stat = "identity")  + geom_smooth(method = "lm")
qplot(data = PropData[PropData$compType == "death",], year, count,
 geom = "bar", stat = "identity")  + geom_smooth(method = "lm")
ggsave("DeathOverTime2.png", , width = 6.4, height = 5.2)
qplot(data = PropData[PropData$compType != "",], year, count, 
fill = compType, geom = "bar", stat = "identity", position = "stack") + theme_bw()
qplot(data = PropData[PropData$compType != "",], year, count, 
fill = compType, geom = "bar", stat = "identity", position = "stack") + theme_bw() + scale_fill_grey()
qplot(data = PropData[PropData$compType != "",], year, count, 
fill = compType, geom = "bar", stat = "identity", position = "stack") + 
theme_bw() + scale_fill_grey() + geom_smooth(method = "lm")
qplot(data = PropData[PropData$compType != "",], year, count, 
fill = compType, geom = "bar", stat = "identity", position = "stack") + 
theme_bw() + geom_smooth(method = "lm")
qplot(data = PropData[PropData$compType != "",], year, count, 
fill = compType, geom = "bar", stat = "identity", position = "stack") + 
theme_bw() + geom_smooth(aes(1),method = "lm")
qplot(data = PropData[PropData$compType != "",], year, count, 
fill = compType, geom = "bar", stat = "identity", position = "stack") + 
theme_bw() + geom_smooth(aes(count),method = "lm")
qplot(data = PropData[PropData$compType != "",], year, count, 
fill = compType, geom = "bar", stat = "identity", position = "stack") + 
theme_bw() + geom_smooth(aes(year,count),method = "lm")
qplot(data = PropData[PropData$compType != "",], year, count, 
fill = compType, geom = "bar", stat = "identity", position = "stack") + 
theme_bw() + geom_smooth(aes(group = 1),method = "lm")
qplot(data = PropData[PropData$compType != "",], year, count, 
fill = compType, geom = "bar", stat = "identity", position = "stack") + 
theme_bw() + geom_smooth(aes(group = 3),method = "lm")
qplot(data = PropData[PropData$compType != "",], year, count, 
fill = compType, geom = "bar", stat = "identity", position = "stack") + 
theme_bw() 
ggsave("ComplicationsOverTime.png", width = 6.4, height = 5.2) 
qplot(data = PropData[PropData$compType != "",], year, count, 
fill = compType, geom = "bar", stat = "identity", position = "fill") + theme_bw() 
ggsave("ComplicationsPropOverTime.png", width = 6.4, height = 5.2)
qplot(data = combined, year, count, fill = type, 
geom = "bar", stat = "identity", position = "dodge")
qplot(data = combined, year, count, fill = type, 
geom = "bar", stat = "identity", position = "stack")
ggsave("ComplicatedCasesOverTime.png")
qplot(data = combined, year, count, fill = type, 
geom = "bar", stat = "identity", position = "stack")
ggsave("ComplicatedCasesOverTime.png", width = 12.8, height = 5.2)
qplot(data = combined, year, count, fill = type, 
geom = "bar", stat = "identity", position = "stack") + geom_smooth()
qplot(data = combined, year, count, fill = type, 
geom = "bar", stat = "identity", position = "stack") + geom_smooth(method = "lm"))
qplot(data = combined, year, count, fill = type, 
geom = "bar", stat = "identity", position = "stack") + geom_smooth(method = "lm")
qplot(data = combined, year, count, fill = type, 
geom = "bar", stat = "identity", position = "stack") 
qplot(data = combined, year, count, fill = type, 
geom = "bar", stat = "identity", position = "stack") 
ggsave("ComplicatedCasesOverTime.png", width = 6.4, height = 5.2)
qplot(data = combined, year, count, fill = type, 
geom = "bar", stat = "identity", position = "stack") + theme_bw()
ggsave("ComplicatedCasesOverTime.png", width = 6.4, height = 5.2)
qplot(data = PropData, year, count, fill = compType, geom = "bar", stat = "identity", position = "stack")
str(PropData)
model1 <- model(data = PropData[PropData$compType != "",]$count ~ PropData[PropData$compType != "",]$year)
model1 <- lm(data = PropData[PropData$compType != "",]$count ~ PropData[PropData$compType != "",]$year)
str(data)
setwd("C:\\Users\\David Ouyang\\Dropbox\\StatisticalAnalysis\\Sinonasal\\Final Data Set")
library(ggplot2)
data <- read.csv("surgicalCasesWComplications.csv", stringsAsFactors = FALSE)
str(data)
qplot(data = data, year, sex, geom = "dot")
qplot(data = data, year, sex, geom = "point")
qplot(data = data[data$sex > -.1,], year, sex, geom = "point")
qplot(data = data[data$sex > -.1,], year, sex, stat = "identity", geom = "point")
qplot(data = data[data$sex > -.1,], year, sex, stat = "identity", geom = "box")
qplot(data = data[data$sex > -.1,], year, sex, stat = "identity", geom = "bar")
qplot(data = data[data$sex > -.1,], year, sex, stat = "identity", geom = "bar") + facet_wrap(~sex)
qplot(data = data[data$sex > -.1,], year, sex, stat = "identity", geom = "bar", fill = sex) + facet_wrap(~sex)
qplot(data = data, year, sex, stat = "identity", geom = "bar", fill = sex) + facet_wrap(~sex)
qplot(data = data, year, count, stat = "identity", geom = "bar", fill = sex) + facet_wrap(~sex)
qplot(data = data[data$sex > -.1,], year, count, stat = "identity", geom = "bar", fill = sex) + facet_wrap(~sex)
qplot(data = data[data$sex > -.1,], year, count, stat = "identity", geom = "bar", fill = sex) + facet_wrap(~sex) + geom_smooth()
qplot(data = data[data$sex > -.1,], year, count, stat = "identity", geom = "bar", fill = sex) + facet_wrap(~sex) + geom_smooth(method = "lm")
setwd("C:\\Users\\David Ouyang\\Dropbox\\StatisticalAnalysis\\Sinonasal\\Final Data Set")
library(ggplot2)
data <- read.csv("ComplicationsOverTime.csv", stringsAsFactors = FALSE)
str(data)
data$count <- 1
PropData <- ddply(data, c("year", "compType"), summarise, count = sum(count))
//infectious
qplot(data = PropData[PropData$compType == "infectious",], year, count,
 geom = c("point", "line") )
qplot(data = PropData[PropData$compType == "infectious",], year, count,
 geom = c("point", "line") ) + geom_smooth( method = "lm")
ggsave("infectious.png")
qplot(data = PropData[PropData$compType == "electrolyte",], year, count,
 geom = c("point", "line") ) + geom_smooth( method = "lm")
str(PropData)
qplot(data = PropData[PropData$compType == "Electrolyte",], year, count,
 geom = c("point", "line") ) + geom_smooth( method = "lm")
ggsave("electrolyte.png")
qplot(data = PropData[PropData$compType == "Cardiopulm",], year, count,
 geom = c("point", "line") ) + geom_smooth( method = "lm")
//Cardiopulm
qplot(data = PropData[PropData$compType == "Cardiopulm",], year, count,
 geom = c("point", "line") ) + geom_smooth( method = "lm")
ggsave("Cardiopulm.png")
setwd("C:\\Users\\David Ouyang\\Dropbox\\StatisticalAnalysis\\Sinonasal\\Final Data Set")
library(ggplot2)
data <- read.csv("surgicalCasesWComplications.csv", stringsAsFactors = FALSE)
str(data)
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161),]
subset
str(subset)
294/3850
len(subset)
length(subset)
data <- read.csv("subsetNeckDissection.csv", stringsAsFactors = FALSE)
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161),]
str(subset)
data <- read.csv("subsetNeurosurgery.csv", stringsAsFactors = FALSE)
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161),]
str(subset)
data <- read.csv("subsetOrbitMax.csv", stringsAsFactors = FALSE)
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161),]
str(subset)
data <- read.csv("subsetNeckDissection.csv", stringsAsFactors = FALSE)
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161),]
str(data)
str(subset)
data <- read.csv("subsetNeurosurgery.csv", stringsAsFactors = FALSE)
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161),]
str(data)
str(subset)
data <- read.csv("subsetOrbitMax.csv", stringsAsFactors = FALSE)
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161),]
str(data)
str(subset)
29/244
27/297
42/236
data <- read.csv("surgicalCasesWComplications.csv", stringsAsFactors = FALSE)
str(data)
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161),]
sum(subset$complications)
sum(data$complications)
602/3850
sum(subset$complications)
51/294
sum(data$complications)
602/3850
sum(subset[subset$comp == 1,]$complications)
sum(data[subset$comp == 1,]$complications)
sum(data[data$comp == 1,]$complications)
data <- read.csv("surgicalCasesWComplicationsIsDifficult3.csv", stringsAsFactors = FALSE)
str(data)
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161),]
294/3850
sum(subset$complications)
51/294
sum(data$complications)
602/3850
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161),]
str(subset)
sum(subset$complications)
sum(data$complications)
sum(subset$complications)
69/294
sum(data$complications)
937/3850
sum(subset[subset$isDifficult == 1,]$complications)
str(subset[subset$isDifficult == 1,])
sum(data[data$isDifficult == 1,]$complications)
str(data[data$isDifficult == 1,])
602/3850
28/84
210/715
mean(subset$los)
mean(subset[subset$isDifficult == 1,]$los)
mean(data$los)
mean(data[[data$isDifficult == 1,]$los)
mean(subset[los>-1,]$los)
mean(subset[subset$isDifficult == 1 & los>-1,]$los)
mean(data[los>-1,]$los)
mean(data[data$isDifficult == 1 & los>-1,]$los)
mean(subset[subset$los>-1,]$los)
mean(subset[subset$isDifficult == 1 & subset$los>-1,]$los)
mean(data[data$los>-1,]$los)
mean(data[data$isDifficult == 1 & data$los>-1,]$los)
mean(data[data$isDifficult == 1 & data$los>-1,]$los)
mean(data[data$isDifficult == 0 & data$los>-1,]$los)
mean(data[data$isDifficult == 1 & data$los>-1,]$los)
mean(data[data$isDifficult == 0 & data$los>-1,]$los)
sum(subset[subset$isDifficult == 1,]$complications)
sum(subset[subset$isDifficult == 0,]$complications)
sum(data[data$isDifficult == 1,]$complications)
sum(data[data$isDifficult == 0,]$complications)
str(data[data$isDifficult == 0,])
210/715
727/3135
mean(data[data$isDifficult == 1 & data$los>-1,]$los)
mean(data[data$isDifficult == 0 & data$los>-1,]$los)
sum(data$complications)
sum(data$death)
sum(data$complications)
sum(data$died)
937/3850
sum(data$died)
937/3850
30/3850
setwd("C:\\Users\\David Ouyang\\Dropbox\\StatisticalAnalysis\\Sinonasal\\Final Data Set")
library(ggplot2)
data <- read.csv("surgicalCasesWComplicationsIsDifficult3.csv", stringsAsFactors = FALSE)
str(data)
mean(data[data$los>-1,]$los)
mean(data[data$isDifficult == 1 & data$los>-1,]$los)
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161),]
notsubset <- data[data$hospital !%in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161),]
notsubset <- data[!data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161),]
str(subset)
str(bitsubset)
str(notsubset)
t.test(subset[subset$los>-1,]$los,notsubset[notsubset$los>-1,]$los)
t.test(subset[subset$isDifficult == 1 & subset$los>-1,]$los,notsubset[ [notsubset$isDifficult == 1 &notsubset$los>-1,]$los)
t.test(subset[subset$isDifficult == 1 & subset$los>-1,]$los,notsubset[notsubset$isDifficult == 1 &notsubset$los>-1,]$los)
t.test(subset[subset$isDifficult == 0 & subset$los>-1,]$los,notsubset[notsubset$isDifficult == 0 &notsubset$los>-1,]$los)
t.test(subset[subset$los>-1,]$los,notsubset[notsubset$los>-1,]$los)
mean(data[data$isDifficult == 1 & data$los>-1,]$los)
mean(data[data$isDifficult == 0 & data$los>-1,]$los)
summary(notsubset[notsubset$los>-1,]$los)
summary(notsubset[notsubset$isDifficult == 0 &notsubset$los>-1,]$los)
t.test(subset[subset$isDifficult == 0 & subset$los>-1,]$los,notsubset[notsubset$isDifficult == 0 &notsubset$los>-1,]$los)
summary(data[data$isDifficult == 0 &data$los>-1,]$los)
str(data[data$isDifficult == 0 &data$los>-1,]$los)
str(notsubset[notsubset$isDifficult == 0 &notsubset$los>-1,]$los)
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161, 
36125, 6626, 24085, 27108, 53109, 36257, 12007, 37006, 29185, 12203, 19136, 6407, 20060, 4117, 41051, 48263
17109, 47030, 12265, 6525, 17207, 36147, 39033),]
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161, 
36125, 6626, 24085, 27108, 53109, 36257, 12007, 37006, 29185, 12203, 19136, 6407, 20060, 4117, 41051, 48263, 
17109, 47030, 12265, 6525, 17207, 36147, 39033),]
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161, 
36125, 6626, 24085, 27108, 53109, 36257, 12007, 37006, 29185, 12203, 19136, 6407, 20060, 4117, 41051, 48263, 
17109, 47030, 12265, 6525, 17207, 36147, 39033),]
notsubset <- data[!data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161, 
36125, 6626, 24085, 27108, 53109, 36257, 12007, 37006, 29185, 12203, 19136, 6407, 20060, 4117, 41051, 48263, 
17109, 47030, 12265, 6525, 17207, 36147, 39033),]
subset <- data[data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161, 
36125, 6626, 24085, 27108, 53109, 36257, 12007, 37006, 29185, 12203, 19136, 6407, 20060, 4117, 41051, 48263, 
17109, 47030, 12265, 6525, 17207, 36147, 39033),]
notsubset <- data[!data$hospital %in% c(25061, 36194, 48006, 26099, 6081, 36234, 42323, 13072, 39161, 
36125, 6626, 24085, 27108, 53109, 36257, 12007, 37006, 29185, 12203, 19136, 6407, 20060, 4117, 41051, 48263, 
17109, 47030, 12265, 6525, 17207, 36147, 39033),]
t.test(subset[subset$isDifficult == 1 & subset$los>-1,]$los,notsubset[notsubset$isDifficult == 1 &notsubset$los>-1,]$los)
t.test(subset[subset$isDifficult == 0 & subset$los>-1,]$los,notsubset[notsubset$isDifficult == 0 &notsubset$los>-1,]$los)
t.test(subset[subset$los>-1,]$los,notsubset[notsubset$los>-1,]$los)
chisq.test(as.table(rbind(c(138,27), c(64,  15))))
chisq.test(as.table(rbind(c(2338,415), c(910,  187))))
chisq.test(as.table(rbind(c(131,38), c(97,  31))))
chisq.test(as.table(rbind(c(100,30), c(75,  31))))
data <- read.csv("surgicalCasesWComplications.csv", stringsAsFactors = FALSE)
str(data)
data <- read.csv("surgicalCasesWComplicationsIsDifficult3.csv", stringsAsFactors = FALSE)
str(data)
ddply(data, c("isDifficult", "complications"), summarise, count = sum(count))
library(plyr)
ddply(data, c("isDifficult", "complications"), summarise, count = sum(count))
data$count<-1
ddply(data, c("isDifficult", "complications"), summarise, count = sum(count))
chisq.test(as.table(rbind(c(2408,727), c(505,  210))))
727/(2408+727)
210/(210+505)
